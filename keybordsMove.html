<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>键盘控制移动</title>
  <style>
    body {
      margin: 0;
      overflow: hidden;
      /* 隐藏body窗口区域滚动条 */
    }
  </style>
  <!--引入three.js三维引擎-->
  <!-- <script src="http://www.yanhuangxueyuan.com/versions/threejsR92/build/three.js"></script>-->
  <script src="JS/three/build/three.js"></script>
  <script src="JS/three/examples/js/controls/OrbitControls.js"></script>
</head>

<body>
  <script>
    /**
     * 创建场景对象Scene
     */
    var scene = new THREE.Scene();
    //环境光
    var ambient = new THREE.AmbientLight(0x444444);
    scene.add(ambient);
    //创建相机对象
    var camera = new THREE.PerspectiveCamera(35, window.innerWidth / window.innerHeight, 1, 1000);
    camera.position.z = 40; //设置相机位置
    /**
     * 创建渲染器对象
     */
    var renderer = new THREE.WebGLRenderer();
    renderer.setSize(window.innerWidth, window.innerHeight);//设置渲染区域尺寸
    renderer.setClearColor(0xb9d3ff, 1); //设置背景颜色
    document.body.appendChild(renderer.domElement); //body元素中插入canvas对象

    const car = initCube({
        color: 'red',
        len: [3, 1, 3],
        position: [0, 0, 0]
    })
    const wall = initCube({
        color: 'gray',
        len: [1, 1, 2],
        position: [-10.1, 0, 0]
    })
    scene.add(car);
    scene.add(wall); // 设置参考块

    var controls = new THREE.OrbitControls(camera, renderer.domElement);//创建控件对象

    function render() {
      renderer.render(scene,camera);//执行渲染操作
      requestAnimationFrame(render);//请求再次执行渲染函数render
    }
    render();

    function initCube(options) {
        const geometry = new THREE.BoxGeometry(...options.len);
        const material = new THREE.MeshBasicMaterial({ color: options.color }); // 此处用MeshLambertMaterial，材质高级属性，这个属性表面需要光照
        const cube = new THREE.Mesh(geometry, material);
        cube.position.add(new THREE.Vector3(...options.position));
        scene.add(new THREE.BoxHelper(cube, 0x00000)); // 设置立方体边框，并且放入场景中，cube后是边框颜色
        return cube
    }

  </script>
</body>
</html>
